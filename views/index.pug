extends layout

block content
  div.main-container
    div.info-container
      //- p.title Welcome to #{title ? title : null }
      p.title Welcome to Members Only 
      p.extra-title Create an account to leave a message and see extra details.

      if (currentUser)
        h1 Welcome back! #{currentUser.username}
        a.button#logoutLink(href="/log-out") Log Out
      else
        div.button-container.cnt
          a.button#signupLink(href="/sign-up") Sign Up
          br
          a.button#loginLink(href="/log-in") Log In
          //- p#signin-message(style="color: red;") Please Sign in  to post a message
    if messages 
      div.messages-info-box    
        div.messages-container.cnt
          for message in messages 
            div.message-info-container
              div.img-container-info
                div.img-container 
                  img(src=message.image || "/images/unknown.png")
                div.img-user  
                  h3.message-sender #{message.owner || "Unknown"}

              div.message 
                h2.message-title= message.title 
                p.message-body= message.message 
        div.send-message-field-container 
          form#send-message-form(action='/send-message', method="POST")
            if isDisabled 
              input(name="msg" placeholder="Sign in to post" disabled).message-send
            else 
              input(name="msg" placeholder="Start typing..." ).message-send
            if isDisabled 
              div.send-img-icon 
                button(disabled)
                  img(src="/icons/send-outline-disabled.svg" alt="Send Icon").send-icon-img
            else
              div.send-img-icon 
                button(type="submit")
                  img(src="/icons/send-outline.svg" alt="Send Icon").send-icon-img
